(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-344eca2c"],{1697:function(e,t,n){},"18e6":function(e,t,n){"use strict";n("1697")},4837:function(e,t,n){"use strict";n("8643")},"7f43":function(e,t,n){"use strict";n.r(t);var r=n("1da1"),c=(n("96cf"),n("b0c0"),n("7a23")),a=n("ae58"),o=n("82a8");function i(e){var t=Object(c["ref"])(0),n=Object(c["ref"])(null),a=Object(c["ref"])([]),o=Object(c["ref"])(0),i=Object(c["ref"])(0),l=function(e){t.value=-e.y},u=Object(c["computed"])((function(){return t.value<0?"":e.singerList[o.value]?e.singerList[o.value].tag:""})),s=Object(c["computed"])((function(){var e=0;return i.value>0&&i.value<30&&(e=i.value-30),{transform:"translate(0,".concat(e,"px)")}}));function f(){var e=n.value.children,t=a.value,r=0;t.length=0,t.push(r);for(var c=0;c<e.length;c++)r+=e[c].clientHeight,t.push(r)}return Object(c["watch"])((function(){return e.singerList}),Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["nextTick"])();case 2:f();case 3:case"end":return e.stop()}}),e)})))),Object(c["watch"])(t,(function(e){for(var t=a.value,n=0;n<t.length;n++){var r=t[n],c=t[n+1];e>=r&&e<c&&(o.value=n,i.value=c-e)}})),Object(c["onMounted"])((function(){f()})),{onScroll:l,groupRef:n,fixedTitle:u,fixedStyle:s,currentIndex:o}}function l(e){var t=Object(c["ref"])(null),n={};function r(e){var t=e.target.dataset.index/1;n.y1=e.touches[0].pageY,n.anchorIndex=t,o(t)}function a(e){n.y2=e.touches[0].pageY;var t=Math.floor((n.y2-n.y1)/18),r=n.anchorIndex+t;o(r)}function o(n){n=Math.max(0,Math.min(n,e.value.children.length-1));var r=e.value.children[n],c=t.value.scroll;c.scrollToElement(r)}return{scrollRef:t,onShortcutTouchStart:r,onShortcutTouchMove:a}}var u={class:"title"},s=["onClick"],f={class:"avatar"},b={alt:""},j={class:"name"},O={class:"fixed-title"},d={class:"shortcut"},v=["data-index"],p={props:["singerList","arrStr"],emits:["select"],setup:function(e,t){var n=t.emit,r=e,a=i(r),p=a.onScroll,h=a.groupRef,m=a.fixedTitle,g=a.fixedStyle,k=a.currentIndex,w=l(h),x=w.scrollRef,y=w.onShortcutTouchStart,S=w.onShortcutTouchMove;function _(e){n("select",e)}return function(t,n){var r=Object(c["resolveDirective"])("img-lazy");return Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(o["a"]),{class:"singer-list",onScroll:Object(c["unref"])(p),probeType:3,ref_key:"scrollRef",ref:x},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("ul",{class:"view-scroll",ref_key:"groupRef",ref:h},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.singerList,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{class:"group",key:e.tag},[Object(c["createElementVNode"])("h2",u,Object(c["toDisplayString"])(e.tag),1),Object(c["createElementVNode"])("ul",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.nameArr,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{class:"item",key:e.id,onClick:function(t){return _(e)}},[Object(c["createElementVNode"])("div",f,[Object(c["withDirectives"])(Object(c["createElementVNode"])("img",b,null,512),[[r,e.picUrl]])]),Object(c["createElementVNode"])("span",j,Object(c["toDisplayString"])(e.name),1)],8,s)})),128))])])})),128))],512),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",{class:"fixed",style:Object(c["normalizeStyle"])(Object(c["unref"])(g))},[Object(c["createElementVNode"])("div",O,Object(c["toDisplayString"])(Object(c["unref"])(m)),1)],4),[[c["vShow"],Object(c["unref"])(m)]]),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("ul",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.arrStr,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:t,class:Object(c["normalizeClass"])(["item",{current:Object(c["unref"])(k)===t}]),"data-index":t,onTouchstart:n[0]||(n[0]=Object(c["withModifiers"])((function(){return Object(c["unref"])(y)&&Object(c["unref"])(y).apply(void 0,arguments)}),["prevent","stop"])),onTouchmove:n[1]||(n[1]=Object(c["withModifiers"])((function(){return Object(c["unref"])(S)&&Object(c["unref"])(S).apply(void 0,arguments)}),["prevent","stop"]))},Object(c["toDisplayString"])(e),43,v)})),128))])])]})),_:1},8,["onScroll"])}}},h=(n("18e6"),n("d959")),m=n.n(h);const g=m()(p,[["__scopeId","data-v-6ee00e07"]]);var k=g,w=n("4c24"),x=n("6c02"),y={class:"singer"},S={setup:function(e){var t=Object(c["ref"])([]),n=Object(c["ref"])({}),o=Object(x["d"])(),i=Object(c["computed"])((function(){for(var e=["热"],t=65;t<91;t++)e.push(String.fromCharCode(t));return e}));function l(e){n.value={picUrl:e.picUrl,id:e.id,name:e.name},w["a"].setLocal("__singerDetail__",n.value),o.push({path:"/singer/".concat(e.id)})}return Object(c["onMounted"])(Object(r["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=w["a"].getLocal("__singerList__",[]),console.log(n),!n.length){e.next=6;break}t.value=n,e.next=11;break;case 6:return e.next=8,Object(a["b"])(i.value);case 8:r=e.sent,t.value=r,w["a"].setLocal("__singerList__",r);case 11:case"end":return e.stop()}}),e)})))),function(e,r){var a=Object(c["resolveComponent"])("router-view"),o=Object(c["resolveDirective"])("loading");return Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("div",y,[Object(c["createVNode"])(Object(c["unref"])(k),{singerList:t.value,arrStr:Object(c["unref"])(i),onSelect:l},null,8,["singerList","arrStr"]),Object(c["createVNode"])(a,null,{default:Object(c["withCtx"])((function(e){var t=e.Component;return[Object(c["createVNode"])(c["Transition"],{name:"slide",appear:""},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["resolveDynamicComponent"])(t),{detailObj:n.value},null,8,["detailObj"]))]})),_:2},1024)]})),_:1})])),[[o,!t.value.length]])}}};n("4837");const _=m()(S,[["__scopeId","data-v-4db54330"]]);t["default"]=_},8643:function(e,t,n){},ae58:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));n("d3b7"),n("3ca3"),n("ddb0"),n("4e82");var r=n("58ff");function c(e){for(var t=[],n=[],r=function(r){n.push(new Promise((function(n,c){a(e[r],t,n)})))},c=0;c<e.length;c++)r(c);return Promise.all(n).then((function(){return t.sort((function(e,t){return e.tag.charCodeAt()-t.tag.charCodeAt()})),t.unshift(t.pop()),t}))}function a(e,t,n){"热"===e?Object(r["a"])("/top/artists",{limit:30}).then((function(r){t.push({tag:e,nameArr:r.artists}),n()})):Object(r["a"])("/artist/list",{initial:e,type:-1,area:7}).then((function(r){t.push({tag:e,nameArr:r.artists}),n()}))}function o(e){return Object(r["a"])("/artists",{id:e.id})}}}]);
//# sourceMappingURL=chunk-344eca2c.f5e9e491.js.map