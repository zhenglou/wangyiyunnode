{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/base/no-result/index.vue?c916","webpack:///./src/components/player/components/mini-player/index.vue?d09a","webpack:///./src/assets/js/storage-api.js","webpack:///./src/assets/images/lazy.png","webpack:///./src/components/header/index.vue","webpack:///./src/components/header/index.vue?4960","webpack:///./src/components/tab/index.vue","webpack:///./src/components/tab/index.vue?4162","webpack:///./src/components/player/components/progress-bar/index.vue","webpack:///./src/components/player/components/progress-bar/index.vue?4411","webpack:///./src/components/player/components/progress-circle/index.vue","webpack:///./src/components/player/components/progress-circle/index.vue?e0d6","webpack:///./src/components/player/use-mode.js","webpack:///./src/components/player/use-favorite.js","webpack:///./src/components/base/confirm/index.vue","webpack:///./src/components/base/confirm/index.vue?128d","webpack:///./src/components/player/components/playlist/index.vue","webpack:///./src/components/player/components/playlist/index.vue?e5db","webpack:///./src/components/player/components/mini-player/index.vue","webpack:///./src/components/player/components/mini-player/index.vue?4852","webpack:///./src/service/song.js","webpack:///./src/assets/js/utils.js","webpack:///./src/components/player/use-middle.js","webpack:///./src/components/player/use-lyric.js","webpack:///./src/components/player/use-play-history.js","webpack:///./src/components/player/index.vue","webpack:///./src/components/player/index.vue?514d","webpack:///./src/App.vue","webpack:///./src/App.vue?f0db","webpack:///./src/router/index.js","webpack:///./src/store/state.js","webpack:///./src/store/getters.js","webpack:///./src/store/actions.js","webpack:///./src/store/mutations.js","webpack:///./src/store/index.js","webpack:///./src/components/base/loading/index.vue","webpack:///./src/components/base/loading/index.vue?6e78","webpack:///./src/components/base/no-result/index.vue","webpack:///./src/components/base/no-result/index.vue?4de9","webpack:///./src/plugins/index.js","webpack:///./src/main.js","webpack:///./src/components/base/confirm/index.vue?b1ef","webpack:///./src/service/base.js","webpack:///./src/components/player/components/progress-bar/index.vue?d798","webpack:///./src/components/player/index.vue?e311","webpack:///./src/components/base/loading/loading.gif","webpack:///./src/components/base/scroll/use-scroll.js","webpack:///./src/components/base/scroll/index.vue","webpack:///./src/components/base/scroll/index.vue?df8a","webpack:///./src/components/player/components/playlist/index.vue?5bf6","webpack:///./src/components/base/loading/index.vue?768e","webpack:///./src/components/player/components/progress-circle/index.vue?f722","webpack:///./src/components/tab/index.vue?ec98","webpack:///./src/components/header/index.vue?16ce"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","getSession","JSON","parse","sessionStorage","getItem","setSession","item","setItem","stringify","getLocal","localStorage","setLocal","class","_createElementVNode","_createElementBlock","_hoisted_2","_hoisted_3","_createVNode","_component_router_link","to","_hoisted_4","__exports__","render","tabs","path","maxNum","ref","progressRef","progressWrapperRef","btnWidth","offset","touch","watch","props","progress","newProgress","progressStyle","computed","btnStyle","onTouchStart","x1","touches","pageX","beginWidth","clientWidth","onTouchMove","delta","tempWidth","Math","max","min","emit","onTouchEnd","onClick","offsetWidth","offsetX","onMounted","dashArray","PI","dashOffset","useMode","store","useStore","playMode","state","modeIcon","playModeVal","modeText","changeMode","dispatch","useFavorite","favoriteList","getFavoriteIcon","song","isFavorite","findIndex","id","togglefavorite","list","index","unshift","commit","storage","visible","show","hide","confirm","cancel","expose","listRef","scrollRef","confirmRef","playlist","sequenceList","currentSong","getters","getCurrentIcon","selectItem","scrollToCurrent","targetEl","$el","children","scroll","scrollToElement","removeSong","nextTick","refresh","showConfirm","clearAll","newSong","playlistRef","playing","fullScreen","miniBtn","showPlaylist","showFull","getSongUrl","getLyric","formatTime","interval","minute","padStart","second","formatLyric","str","arr","split","filter","reduce","prev","cur","obj","time","content","secondValue","Number","trim","useMiddle","currentShow","middleLStyle","middleRStyle","directionValue","currentView","onMiddleTouchStart","y1","pageY","directionLocked","onMiddleTouchMove","deltaX","deltaY","absDeltaX","abs","absDeltaY","percent","innerWidth","left","opacity","transform","onMiddleTouchEnd","transition","useLyric","currentTime","currentLyric","currentLineNum","lyricScrollRef","lyricRef","playingLyric","timer","run","newNum","lyricScrollRefValue","lyricRefValue","scrollTo","playLyric","currentLyricValue","countIndex","startRun","stopLyric","delay","currentTimeValue","lyric","lrc","usePlayHistory","playHistory","savePlayHistory","audioRef","duration","progressChanging","currentIndex","playIcon","cdStyle","animationPlayState","handle","ar","map","nameObj","join","togglePlay","next","loop","audio","play","updateTime","ready","end","onProgressChanging","onProgressChanged","showMini","url","playlistValue","sequenceListValue","indexP","indexS","newPlaying","pause","newDirection","enable","disable","viewStyle","bottom","Recommend","Singer","TopList","Search","SingerDetail","AlbumDetail","TopDetail","UserCenter","routes","redirect","component","router","createRouter","history","createWebHistory","process","actions","addOnePlay","sequenceindex","addAllPlay","shuffle","sequenceIndex","playlistIndex","clearSongList","sort","a","b","random","mutations","setSequenceList","setPlaylist","setPlayingState","setPlayMode","setCurrentIndex","setFullScreen","setFavoriteList","setPlayHistory","debug","createStore","strict","plugins","createLogger","width","height","_imports_0","install","app","directive","mounted","el","binding","createApp","loading","instance","mount","append","updated","oldValue","removeEl","defaultImg","useIntersectionObserver","isIntersecting","stop","noResult","style","getComputedStyle","indexOf","position","classList","add","remove","App","use","directivePlugin","params","axios","res","catch","log","useScroll","rootRef","BScroll","observeDOM","probeType","on","pos","onUnmounted","destroy","onActivated","onDeactivated","ObserveDOM"],"mappings":"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","file":"js/app.07785d0c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-1c1fa070\":\"41f94ab1\",\"chunk-202690da\":\"87d10bbf\",\"chunk-291bb464\":\"6890a3de\",\"chunk-344eca2c\":\"f5e9e491\",\"chunk-6462a7f1\":\"a856cf89\",\"chunk-94b9f598\":\"3bbe6323\",\"chunk-af7a572c\":\"88928d39\",\"chunk-c2308eea\":\"8eb52303\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-1c1fa070\":1,\"chunk-202690da\":1,\"chunk-291bb464\":1,\"chunk-344eca2c\":1,\"chunk-6462a7f1\":1,\"chunk-94b9f598\":1,\"chunk-af7a572c\":1,\"chunk-c2308eea\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-1c1fa070\":\"131f9ee1\",\"chunk-202690da\":\"a8a78024\",\"chunk-291bb464\":\"2a36f36e\",\"chunk-344eca2c\":\"dcd015ee\",\"chunk-6462a7f1\":\"0d028fe7\",\"chunk-94b9f598\":\"2f875270\",\"chunk-af7a572c\":\"44fec75e\",\"chunk-c2308eea\":\"b2070941\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=5a2ddb14&lang=scss&scoped=true\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=f97d8dea&lang=scss&scoped=true\"","export default {\r\n  // 获取会话存储 \r\n  getSession(key) {\r\n    return JSON.parse(sessionStorage.getItem(key))\r\n  },\r\n  // 设置会话存储\r\n  setSession(key, item) {\r\n    sessionStorage.setItem(key, JSON.stringify(item))\r\n  },\r\n  // 获取永久存储\r\n  getLocal(key, type) {\r\n    let item = JSON.parse(localStorage.getItem(key))\r\n    if (!item) {\r\n      item = type\r\n    }\r\n    return item\r\n  },\r\n\r\n  // 设置永久存储\r\n  setLocal(key, item) {\r\n    localStorage.setItem(key, JSON.stringify(item))\r\n  }\r\n}","module.exports = __webpack_public_path__ + \"img/lazy.a5456e54.png\";","<template>\r\n  <div class=\"header\">\r\n    <span class=\"icon\"></span>\r\n    <h1 class=\"text\">Purple Music</h1>\r\n    <router-link class=\"mine\" to=\"/user\">\r\n      <i class=\"icon-mine\"></i>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n// .header {\r\n//   // 写header的样式\r\n//   .icon {\r\n//     // 写.header .icon的样式\r\n//   }\r\n// }\r\n\r\n.header {\r\n  height: 44px;\r\n  text-align: center;\r\n  color: $color-theme; //使用的时候 variable中的 变量\r\n  font-size: 0;\r\n  .icon {\r\n    //在.header内写 意外着 .header .icon{ }\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    margin-top: 6px;\r\n    width: 30px;\r\n    height: 32px;\r\n    margin-right: 9px;\r\n    @include bg-image(\"logo\"); //使用的 是mixin中的 函数\r\n    background-size: cover;\r\n  }\r\n  .text {\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    line-height: 44px;\r\n    font-size: $font-size-large; //使用的时候 variable中的 变量\r\n  }\r\n  .mine {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    .icon-mine {\r\n      display: block;\r\n      padding: 12px;\r\n      font-size: $font-size-large-x;\r\n      color: $color-theme;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=15dfaa69&scoped=true\"\nconst script = {}\n\nimport \"./index.vue?vue&type=style&index=0&id=15dfaa69&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\朱雀\\\\Desktop\\\\vue 2-7\\\\31 实战14\\\\vue3_music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-15dfaa69\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"tab\">\r\n    <router-link\r\n      class=\"tab-item\"\r\n      v-for=\"tab in tabs\"\r\n      :key=\"tab.path\"\r\n      :to=\"tab.path\"\r\n    >\r\n      <span class=\"tab-link\">{{ tab.name }}</span>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n<script setup>\r\nconst tabs = [\r\n  {\r\n    name: \"推荐\",\r\n    path: \"/recommend\",\r\n  },\r\n  {\r\n    name: \"歌手\",\r\n    path: \"/singer\",\r\n  },\r\n  {\r\n    name: \"排行\",\r\n    path: \"/top\",\r\n  },\r\n  {\r\n    name: \"搜索\",\r\n    path: \"/search\",\r\n  },\r\n];\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.tab {\r\n  display: flex;\r\n  height: 44px;\r\n  line-height: 44px;\r\n  font-size: $font-size-medium;\r\n\r\n  .tab-item {\r\n    flex: 1;\r\n    text-align: center;\r\n\r\n    .tab-link {\r\n      padding-bottom: 5px;\r\n      color: $color-text-l;\r\n    }\r\n    //&的意思就是当前元素 .tab-item   .tab-item.router-link-active{}\r\n    &.router-link-active {\r\n      //被选中的路由router link样式\r\n      .tab-link {\r\n        color: $color-theme;\r\n        border-bottom: 2px solid $color-theme;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=363957e5&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\朱雀\\\\Desktop\\\\vue 2-7\\\\31 实战14\\\\vue3_music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-363957e5\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"progress-bar\" @click=\"onClick\">\r\n    <!-- 播放背景条  计算总长度  -->\r\n    <div class=\"bar-inner\" ref=\"progressWrapperRef\">\r\n      <!-- 实际播放进度条   -->\r\n      <div class=\"progress\" :style=\"progressStyle\" ref=\"progressRef\"></div>\r\n      <div\r\n        class=\"progress-btn-wrapper\"\r\n        ref=\"progressBarRef\"\r\n        :style=\"btnStyle\"\r\n        @touchstart.prevent=\"onTouchStart\"\r\n        @touchmove.prevent=\"onTouchMove\"\r\n        @touchend.prevent=\"onTouchEnd\"\r\n      >\r\n        <div class=\"progress-btn\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { onMounted, ref, computed, watch } from \"vue\";\r\n// 播放时间  / 总时间 = 当前progress width  / 总的 progress width\r\n\r\n// width 偏移量最大范围\r\nlet maxNum = ref(0);\r\nconst progressRef = ref(null);\r\nconst progressWrapperRef = ref(null);\r\nconst btnWidth = 16;\r\nconst props = defineProps({\r\n  progress: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n});\r\nconst emit = defineEmits([\"progressChanging\", \"progressChanged\"]);\r\n//记录偏移量\r\nconst offset = ref(0);\r\n//touch事件的位置信息\r\nconst touch = {};\r\n\r\nwatch(\r\n  () => props.progress,\r\n  (newProgress) => {\r\n    offset.value = newProgress * maxNum.value;\r\n  }\r\n);\r\nconst progressStyle = computed(() => `width:${offset.value}px;`);\r\nconst btnStyle = computed(() => `transform:translate(${offset.value}px,0);`);\r\n//手指落下\r\nfunction onTouchStart(e) {\r\n  touch.x1 = e.touches[0].pageX;\r\n  // 播放条初始宽度\r\n  touch.beginWidth = progressRef.value.clientWidth; //记录 当前播放条的初始宽度\r\n}\r\n//手指滑动\r\nfunction onTouchMove(e) {\r\n  //计算和初始位置的差值  是手指移动触发宽度变化 触发 progress的变化\r\n  const delta = e.touches[0].pageX - touch.x1;\r\n  const tempWidth = touch.beginWidth + delta;\r\n\r\n  //限制值范围在 0 ~ maxNum 之间\r\n  offset.value = Math.max(0, Math.min(tempWidth, maxNum.value));\r\n  //限制 progress 的范围在 0 ~ 1之间\r\n  const progress = offset.value / maxNum.value;\r\n  //传给 player 进行 currentTime 的计算\r\n  emit(\"progressChanging\", progress);\r\n}\r\n//手指离开\r\nfunction onTouchEnd(e) {\r\n  //得到最终的进度值\r\n  const progress = offset.value / maxNum.value;\r\n  //传给 player 进行 currentTime 的计算\r\n  emit(\"progressChanged\", progress);\r\n}\r\n\r\nfunction onClick(e) {\r\n  const offsetWidth = Math.min(e.offsetX, maxNum.value);\r\n  const progress = offsetWidth / maxNum.value;\r\n  emit(\"progressChanged\", progress);\r\n}\r\n\r\nonMounted(() => {\r\n  maxNum.value = progressWrapperRef.value.clientWidth - btnWidth;\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.progress-bar {\r\n  height: 30px;\r\n  .bar-inner {\r\n    position: relative;\r\n    top: 13px;\r\n    height: 4px;\r\n    background: rgba(0, 0, 0, 0.3);\r\n    .progress {\r\n      position: absolute;\r\n      height: 100%;\r\n      background: $color-theme;\r\n    }\r\n    .progress-btn-wrapper {\r\n      position: absolute;\r\n      left: -8px;\r\n      top: -13px;\r\n      width: 30px;\r\n      height: 30px;\r\n      .progress-btn {\r\n        position: relative;\r\n        top: 7px;\r\n        left: 7px;\r\n        box-sizing: border-box;\r\n        width: 16px;\r\n        height: 16px;\r\n        border: 3px solid $color-text;\r\n        border-radius: 50%;\r\n        background: $color-theme;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=40b11fbc&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\朱雀\\\\Desktop\\\\vue 2-7\\\\31 实战14\\\\vue3_music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-40b11fbc\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"progress-circle\">\r\n    <!--\r\n       画布 svg实际呈现的大小  width height 决定\r\n\r\n       viewBox 0 x起点  0 y起点  100 100 视口的宽高  把 100 * 100的视口 等比缩放到 画布( 32 * 32 )内去展示 \r\n\r\n        r 半径  cx 圆心x位置  cy 圆心 y位置  确定了圆在视口内的位置 \r\n\r\n    \r\n    -->\r\n    <svg :width=\"radius\" :height=\"radius\" viewBox=\"0 0 100 100\">\r\n      <circle\r\n        class=\"progress-background\"\r\n        r=\"50\"\r\n        cx=\"50\"\r\n        cy=\"50\"\r\n        fill=\"transparent\"\r\n      />\r\n      <circle\r\n        class=\"progress-bar\"\r\n        r=\"50\"\r\n        cx=\"50\"\r\n        cy=\"50\"\r\n        fill=\"transparent\"\r\n        :stroke-dasharray=\"dashArray\"\r\n        :stroke-dashoffset=\"dashOffset\"\r\n      />\r\n    </svg>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from \"vue\";\r\n\r\nconst props = defineProps({\r\n  radius: {\r\n    type: Number,\r\n    default: 100,\r\n  },\r\n  progress: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n});\r\n// progress 0 ~ 1\r\nconst dashArray = Math.PI * 2 * 50;\r\nconst dashOffset = computed(() => (1 - props.progress) * dashArray);\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.progress-circle {\r\n  position: relative;\r\n  circle {\r\n    stroke-width: 8px;\r\n    transform-origin: center;\r\n    &.progress-background {\r\n      transform: scale(0.9);\r\n      stroke: $color-sub-theme;\r\n    }\r\n    &.progress-bar {\r\n      transform: scale(0.9) rotate(-90deg);\r\n      stroke: $color-theme;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=51ebbf63&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\朱雀\\\\Desktop\\\\vue 2-7\\\\31 实战14\\\\vue3_music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-51ebbf63\"]])\n\nexport default __exports__","\r\nimport { useStore } from \"vuex\";\r\nimport { computed } from 'vue'\r\nexport default function useMode() {\r\n  const store = useStore()\r\n  const playMode = computed(() => store.state.playMode)\r\n\r\n  const modeIcon = computed(() => {\r\n    const playModeVal = playMode.value\r\n    switch (playModeVal) {\r\n      case 0://顺序\r\n        return 'icon-sequence'\r\n        break;\r\n      case 1://单曲\r\n        return 'icon-loop'\r\n        break;\r\n      case 2://随机\r\n        return 'icon-random'\r\n        break;\r\n    }\r\n\r\n  })\r\n  // 补充模式文本  \r\n  const modeText = computed(() => {\r\n    const playModeVal = playMode.value\r\n    switch (playModeVal) {\r\n      case 0://顺序\r\n        return '顺序播放'\r\n        break;\r\n      case 1://单曲\r\n        return '单曲循环'\r\n        break;\r\n      case 2://随机\r\n        return '随机播放'\r\n        break;\r\n    }\r\n\r\n  })\r\n\r\n  function changeMode() {\r\n    const mode = (playMode.value + 1) % 3\r\n    store.dispatch(\"changeMode\", mode)\r\n\r\n  }\r\n\r\n  return {\r\n    modeIcon,\r\n    changeMode,\r\n    modeText\r\n  }\r\n}","import storage from '@/assets/js/storage-api'\r\nimport { useStore } from 'vuex'\r\nimport { computed, onMounted } from 'vue'\r\n\r\nexport default function useFavorite() {\r\n  const store = useStore()\r\n  const favoriteList = computed(() => store.state.favoriteList)\r\n\r\n  // 由外部传入 song来判断  \r\n  function getFavoriteIcon(song) {\r\n    return isFavorite(song) ? 'icon-favorite' : 'icon-not-favorite'\r\n  }\r\n\r\n  function isFavorite(song) {\r\n    //true 在喜爱列表里   false 不在喜爱列表里 \r\n    return favoriteList.value.findIndex(item => item.id === song.id) > -1\r\n  }\r\n  // 外部传入 song 来进行操作  \r\n  function togglefavorite(song) {\r\n    let list = favoriteList.value.slice()\r\n    if (isFavorite(song)) {\r\n      //在就删\r\n      let index = list.findIndex(item => item.id === song.id)\r\n      list.splice(index, 1)\r\n    } else {\r\n      //不在 就添加 \r\n      list.unshift(song)\r\n    }\r\n\r\n    store.commit('setFavoriteList', list)\r\n    storage.setLocal('__favoriteList__', list)\r\n\r\n  }\r\n\r\n  onMounted(() => {\r\n    //用上本地存储 \r\n    if (!favoriteList.value.length) {\r\n      let list = storage.getLocal('__favoriteList__', [])\r\n      if (list.length) {\r\n        store.commit('setFavoriteList', list)\r\n      }\r\n    }\r\n  })\r\n  return {\r\n    getFavoriteIcon,\r\n    togglefavorite\r\n  }\r\n}","<template>\r\n  <teleport to=\"body\">\r\n    <!-- 定位到body的位置  -->\r\n    <transition name=\"confirm-fade\">\r\n      <div class=\"confirm\" v-show=\"visible\" @click=\"hide\">\r\n        <div class=\"confirm-wrapper\" @click.stop>\r\n          <div class=\"confirm-content\">\r\n            <p class=\"text\">{{ text }}</p>\r\n            <div class=\"operate\">\r\n              <div class=\"operate-btn left\" @click=\"confirm\">\r\n                {{ confirmBtnText }}\r\n              </div>\r\n              <div class=\"operate-btn\" @click=\"cancel\">{{ cancelBtnText }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n  </teleport>\r\n</template>\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nconst props = defineProps({\r\n  text: {\r\n    //弹窗文本\r\n    type: String,\r\n    default: \"是否清空\",\r\n  },\r\n  confirmBtnText: {\r\n    type: String,\r\n    default: \"确定\",\r\n  },\r\n  cancelBtnText: {\r\n    type: String,\r\n    default: \"取消\",\r\n  },\r\n});\r\nconst emit = defineEmits([\"confirm\", \"cancel\"]);\r\nconst visible = ref(false);\r\nfunction show() {\r\n  visible.value = true;\r\n}\r\nfunction hide() {\r\n  visible.value = false;\r\n}\r\nfunction confirm() {\r\n  emit(\"confirm\");\r\n  hide();\r\n}\r\nfunction cancel() {\r\n  emit(\"cancel\");\r\n  hide();\r\n}\r\ndefineExpose({\r\n  show,\r\n});\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.confirm {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 998;\r\n  background-color: $color-background-d;\r\n  &.confirm-fade-enter-active {\r\n    animation: confirm-fadein 0.3s;\r\n    .confirm-content {\r\n      animation: confirm-zoom-in 0.3s;\r\n    }\r\n  }\r\n  &.confirm-fade-leave-active {\r\n    animation: confirm-fadeout 0.3s;\r\n    .confirm-content {\r\n      animation: confirm-zoom-out 0.3s;\r\n    }\r\n  }\r\n  .confirm-wrapper {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 999;\r\n    .confirm-content {\r\n      width: 270px;\r\n      border-radius: 13px;\r\n      background: $color-highlight-background;\r\n      .text {\r\n        padding: 19px 15px;\r\n        line-height: 22px;\r\n        text-align: center;\r\n        font-size: $font-size-large;\r\n        color: $color-text-l;\r\n      }\r\n      .operate {\r\n        display: flex;\r\n        align-items: center;\r\n        text-align: center;\r\n        font-size: $font-size-large;\r\n        .operate-btn {\r\n          flex: 1;\r\n          line-height: 22px;\r\n          padding: 10px 0;\r\n          border-top: 1px solid $color-background-d;\r\n          color: $color-text-l;\r\n          &.left {\r\n            border-right: 1px solid $color-background-d;\r\n            color: $color-text;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n@keyframes confirm-fadein {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes confirm-fadeout {\r\n  0% {\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n@keyframes confirm-zoom-in {\r\n  0% {\r\n    transform: scale(0);\r\n  }\r\n  50% {\r\n    transform: scale(1.1);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n@keyframes confirm-zoom-out {\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n  100% {\r\n    transform: scale(0);\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=22823288&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\朱雀\\\\Desktop\\\\vue 2-7\\\\31 实战14\\\\vue3_music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-22823288\"]])\n\nexport default __exports__","<template>\r\n  <transition name=\"list-fade\">\r\n    <div class=\"playlist\" v-show=\"visible\" @click.stop=\"hide\">\r\n      <div class=\"list-wrapper\" @click.stop>\r\n        <div class=\"list-header\">\r\n          <h1 class=\"title\">\r\n            <i class=\"icon\" :class=\"modeIcon\" @click=\"changeMode\"></i>\r\n            <span class=\"text\">{{ modeText }}</span>\r\n            <span class=\"clear\" @click=\"showConfirm\">\r\n              <i class=\"icon-clear\"></i>\r\n            </span>\r\n          </h1>\r\n        </div>\r\n        <Scroll class=\"list-content\" ref=\"scrollRef\">\r\n          <transition-group ref=\"listRef\" tag=\"ul\" name=\"list\">\r\n            <li\r\n              class=\"item\"\r\n              v-for=\"song in playlist\"\r\n              :key=\"song.id\"\r\n              @click=\"selectItem(song)\"\r\n            >\r\n              <i class=\"current\" :class=\"getCurrentIcon(song)\"></i>\r\n              <span class=\"text\">{{ song.name }}</span>\r\n              <span class=\"favorite\" @click.stop=\"togglefavorite(song)\">\r\n                <i :class=\"getFavoriteIcon(song)\"></i>\r\n              </span>\r\n              <span class=\"delete\" @click.stop=\"removeSong(song)\">\r\n                <i class=\"icon-delete\"></i>\r\n              </span>\r\n            </li>\r\n          </transition-group>\r\n        </Scroll>\r\n        <div class=\"list-footer\" @click.stop=\"hide\">\r\n          <span>关闭</span>\r\n        </div>\r\n      </div>\r\n      <Confirm\r\n        text=\"是否清空播放列表\"\r\n        confirmBtnText=\"清空\"\r\n        ref=\"confirmRef\"\r\n        @confirm=\"clearAll\"\r\n      ></Confirm>\r\n    </div>\r\n  </transition>\r\n</template>\r\n<script setup>\r\nimport { computed, nextTick, ref, watch } from \"vue\";\r\nimport useMode from \"../../use-mode\";\r\nimport useFavorite from \"../../use-favorite\";\r\nimport { useStore } from \"vuex\";\r\nimport Scroll from \"@/components/base/scroll\";\r\nimport Confirm from \"@/components/base/confirm\";\r\nconst visible = ref(false);\r\nconst store = useStore();\r\nconst listRef = ref(null);\r\nconst scrollRef = ref(null);\r\nconst confirmRef = ref(null);\r\n\r\nconst playlist = computed(() => store.state.playlist);\r\nconst sequenceList = computed(() => store.state.sequenceList);\r\nconst currentSong = computed(() => store.getters.currentSong);\r\n\r\nconst { modeText, modeIcon, changeMode } = useMode();\r\nconst { getFavoriteIcon, togglefavorite } = useFavorite();\r\n\r\nwatch(currentSong, (newSong) => {\r\n  // playlist渲染时 才 执行 scrollToCurrent\r\n  if (!newSong.id || !visible.value) return;\r\n  scrollToCurrent();\r\n});\r\n\r\nfunction getCurrentIcon(song) {\r\n  if (currentSong.value.id === song.id) return \"icon-play\";\r\n}\r\n\r\nfunction selectItem(song) {\r\n  //找到被点击歌曲 在 sequenceList中的 下标\r\n  const index = sequenceList.value.findIndex((item) => item.id === song.id);\r\n  store.commit(\"setCurrentIndex\", index);\r\n  store.commit(\"setPlayingState\", true);\r\n}\r\n\r\n// 对应的li置顶滚动\r\nfunction scrollToCurrent() {\r\n  let song = currentSong.value;\r\n  let index = playlist.value.findIndex((item) => item.id === song.id);\r\n  // 找对应 li元素\r\n  let targetEl = listRef.value.$el.children[index];\r\n  scrollRef.value.scroll.scrollToElement(targetEl, 300);\r\n}\r\n\r\nfunction removeSong(song) {\r\n  store.dispatch(\"removeSong\", song);\r\n}\r\n\r\nasync function show() {\r\n  visible.value = true;\r\n  // 等待 dom 更新 之后 在更新滚动组件\r\n  await nextTick();\r\n  scrollRef.value.scroll.refresh();\r\n  scrollToCurrent();\r\n}\r\nfunction hide() {\r\n  visible.value = false;\r\n}\r\nfunction showConfirm() {\r\n  confirmRef.value.show();\r\n}\r\nfunction clearAll() {\r\n  store.dispatch(\"clearSongList\");\r\n}\r\ndefineExpose({\r\n  show,\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.playlist {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 200;\r\n  background-color: $color-background-d;\r\n  &.list-fade-enter-active,\r\n  &.list-fade-leave-active {\r\n    transition: opacity 0.3s;\r\n    .list-wrapper {\r\n      transition: all 0.3s;\r\n    }\r\n  }\r\n  &.list-fade-enter-from,\r\n  &.list-fade-leave-to {\r\n    // 进入的起点  离开的终点\r\n    opacity: 0;\r\n    .list-wrapper {\r\n      transform: translate(0, 100%);\r\n    }\r\n  }\r\n  .list-wrapper {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    z-index: 210;\r\n    width: 100%;\r\n    background-color: $color-highlight-background;\r\n    .list-header {\r\n      position: relative;\r\n      padding: 20px 30px 10px 20px;\r\n      .title {\r\n        display: flex;\r\n        align-items: center;\r\n        .icon {\r\n          margin-right: 10px;\r\n          font-size: 24px;\r\n          color: $color-theme-d;\r\n        }\r\n        .text {\r\n          flex: 1;\r\n          font-size: $font-size-medium;\r\n          color: $color-text-l;\r\n        }\r\n        .clear {\r\n          @include extend-click();\r\n          .icon-clear {\r\n            font-size: $font-size-medium;\r\n            color: $color-text-d;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .list-content {\r\n      max-height: 280px;\r\n      overflow: hidden;\r\n      .item {\r\n        display: flex;\r\n        align-items: center;\r\n        height: 40px;\r\n        padding: 0 30px 0 20px;\r\n        overflow: hidden;\r\n        .current {\r\n          flex: 0 0 20px;\r\n          width: 20px;\r\n          font-size: $font-size-small;\r\n          color: $color-theme-d;\r\n        }\r\n        .text {\r\n          flex: 1;\r\n          @include no-wrap();\r\n          font-size: $font-size-medium;\r\n          color: $color-text-l;\r\n        }\r\n        .favorite {\r\n          @include extend-click();\r\n          margin-right: 15px;\r\n          font-size: $font-size-small;\r\n          color: $color-theme;\r\n          .icon-favorite {\r\n            color: $color-sub-theme;\r\n          }\r\n        }\r\n        .delete {\r\n          @include extend-click();\r\n          font-size: $font-size-small;\r\n          color: $color-theme;\r\n          &.disable {\r\n            color: $color-theme-d;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .list-add {\r\n      width: 140px;\r\n      margin: 20px auto 30px auto;\r\n      .add {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 8px 16px;\r\n        border: 1px solid $color-text-l;\r\n        border-radius: 100px;\r\n        color: $color-text-l;\r\n        .icon-add {\r\n          margin-right: 5px;\r\n          font-size: $font-size-small-s;\r\n        }\r\n        .text {\r\n          font-size: $font-size-small;\r\n        }\r\n      }\r\n    }\r\n    .list-footer {\r\n      text-align: center;\r\n      line-height: 60px;\r\n      background: $color-background;\r\n      font-size: $font-size-medium-x;\r\n      color: $color-text-l;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=548a1071&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\朱雀\\\\Desktop\\\\vue 2-7\\\\31 实战14\\\\vue3_music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-548a1071\"]])\n\nexport default __exports__","<template>\r\n  <transition name=\"mini\">\r\n    <div class=\"mini-player\" v-show=\"!fullScreen\" @click=\"showFull\">\r\n      <div class=\"cd-wrapper\">\r\n        <div class=\"cd\" :style=\"cdStyle\">\r\n          <img :src=\"currentSong.al.picUrl\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"slider-wrapper\">\r\n        <h2 class=\"name\">{{ currentSong.name }}</h2>\r\n        <p class=\"desc\">{{ handle(currentSong) }}</p>\r\n      </div>\r\n      <!-- 进度圆圈 -->\r\n      <div class=\"control\">\r\n        <ProgressCircle :radius=\"32\" :progress=\"progress\">\r\n          <i class=\"icon-mini\" :class=\"miniBtn\" @click.stop=\"togglePlay\"></i>\r\n        </ProgressCircle>\r\n      </div>\r\n      <div class=\"control\" @click.stop=\"showPlaylist\">\r\n        <i class=\"icon-playlist\"></i>\r\n      </div>\r\n      <PlayList ref=\"playlistRef\"></PlayList>\r\n    </div>\r\n  </transition>\r\n</template>\r\n<script setup>\r\nimport { computed, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport ProgressCircle from \"../progress-circle\";\r\nimport PlayList from \"../playlist\";\r\nconst props = defineProps([\"handle\", \"progress\", \"cdStyle\", \"togglePlay\"]);\r\n\r\nconst playlistRef = ref(null);\r\nconst store = useStore();\r\nconst currentSong = computed(() => store.getters.currentSong);\r\nconst playing = computed(() => store.state.playing);\r\nconst fullScreen = computed(() => store.state.fullScreen);\r\n\r\nconst miniBtn = computed(() =>\r\n  playing.value ? \"icon-pause-mini\" : \"icon-play-mini\"\r\n);\r\n\r\nfunction showPlaylist() {\r\n  playlistRef.value.show();\r\n}\r\n\r\nfunction showFull() {\r\n  store.commit(\"setFullScreen\", true);\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.mini-player {\r\n  display: flex;\r\n  align-items: center;\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 180;\r\n  width: 100%;\r\n  height: 60px;\r\n  background: $color-highlight-background;\r\n  .cd-wrapper {\r\n    flex: 0 0 40px;\r\n    width: 40px;\r\n    height: 40px;\r\n    padding: 0 10px 0 20px;\r\n    .cd {\r\n      position: relative;\r\n      height: 100%;\r\n      width: 100%;\r\n      animation: rotate 10s linear infinite;\r\n      overflow: hidden;\r\n      border-radius: 50%;\r\n      img {\r\n        position: absolute;\r\n        width: 130%;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n      }\r\n    }\r\n  }\r\n  .slider-wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    flex: 1;\r\n    line-height: 20px;\r\n    overflow: hidden;\r\n    .name {\r\n      margin-bottom: 2px;\r\n      @include no-wrap();\r\n      font-size: $font-size-medium;\r\n      color: $color-text;\r\n    }\r\n    .desc {\r\n      @include no-wrap();\r\n      font-size: $font-size-small;\r\n      color: $color-text-d;\r\n    }\r\n  }\r\n  .control {\r\n    flex: 0 0 30px;\r\n    width: 30px;\r\n    padding: 0 10px;\r\n    .icon-playlist {\r\n      position: relative;\r\n      top: -2px;\r\n      font-size: 28px;\r\n      color: $color-theme-d;\r\n    }\r\n    .icon-mini {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      color: $color-theme-d;\r\n      font-size: 32px;\r\n    }\r\n  }\r\n  &.mini-enter-active,\r\n  &.mini-leave-active {\r\n    transition: all 0.6s cubic-bezier(0.45, 0, 0.55, 1);\r\n  }\r\n  &.mini-enter-from,\r\n  &.mini-leave-to {\r\n    opacity: 0;\r\n    transform: translate3d(0, 100%, 0);\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=f97d8dea&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\朱雀\\\\Desktop\\\\vue 2-7\\\\31 实战14\\\\vue3_music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f97d8dea\"]])\n\nexport default __exports__","import { get } from './base'\r\n\r\nexport function getSongUrl(song) {\r\n  return get('/song/url', {\r\n    id: song.id\r\n  })\r\n}\r\n// 获取歌词\r\nexport function getLyric(song) {\r\n  return get('/lyric', {\r\n    id: song.id\r\n  })\r\n}","export function formatTime(interval) {\r\n  // interval 1.234 秒 \r\n  // 00:00 \r\n  interval = interval | 0 //快速取整 \r\n  // 分钟  \r\n  const minute = ((interval / 60 | 0) + '').padStart(2, '0') //padStart(2, '0') 如果字符串长度不够 2 在当前字符之前 补全'0' 直到length为 2为止 \r\n  // 秒数 '1' '01'   \r\n  const second = (interval % 60 + '').padStart(2, '0')\r\n  // '6'  '06'\r\n  return `${minute}:${second}`\r\n\r\n}\r\n\r\nexport function formatLyric(str) {\r\n\r\n  let arr = str.split('[').filter(item => item !== '').reduce((prev, cur, index) => {\r\n    // '01:30.11]却敢堵命运的枪\\n' ==> ['01:30.11', '却敢堵命运的枪\\n']\r\n    let obj = {}\r\n    let time = cur.split(']')[0] // '01:30.11'\r\n    obj.content = cur.split(']')[1] //'却敢堵命运的枪\\n'\r\n\r\n    let second = time.split(':') // ['01','30.11']\r\n\r\n    let secondValue = Number(second[0]) * 60 + Number(second[1])\r\n\r\n    obj.time = secondValue\r\n    prev.push(obj) //[{},{},{}....{}]\r\n    return prev\r\n  }, [])\r\n\r\n  return arr.filter(item => item.content.trim() !== '')\r\n\r\n}\r\n// '01:30.11]却敢堵命运的枪\\n',\r\n//   '01:31.95]爱你和我那么像\\n',\r\n//   '01:33.83]缺口都一样\\n',\r\n//   '01:35.53]去吗？配吗？这褴褛的披风\\n',\r\n//   '00:43.20]你破旧的玩偶 你的 面具 你的自我\\n',\r\n//   '00:51.46]\\n',\r\n//   '00:51.76]他们说 要带着光 驯服每一头怪兽\\n',\r\n//  '00:58.65]他们说 要缝好你的伤 没有人爱小丑\\n' i = 50     假设当前时间是 59s\r\n//  if(59 >= 58.65 && currentLyricValue[i + 1]? 59 < currentLyricValue[i + 1].time : true){\r\n  // index = 50\r\n// }\r\n/* \r\n\r\n[00:00.000] 作词 : 唐恬  i = 0  index = 0\r\n[00:00.288] 作曲 : 钱雷\r\n[00:00.576] 编曲 : 钱雷\r\n[00:00.864] 制作人 : 钱雷\r\n\r\n*/\r\n/* \r\n[\r\n  {\r\n    time: 10, //秒为单位\r\n    content: '作词 : 唐恬'\r\n  },\r\n  {\r\n    time: 10, //秒为单位\r\n    content: '作曲 : 钱雷'\r\n  },\r\n] */","import { ref } from 'vue'\r\n\r\nexport default function useMiddle() {\r\n\r\n  // 展示的页面 \r\n  const currentShow = ref('cd')\r\n\r\n  // cd style  切换opacity的程度 \r\n  const middleLStyle = ref(null)\r\n\r\n  // lyric 歌词 style 切换 translate的值 \r\n  const middleRStyle = ref(null)\r\n\r\n  //记录手指移动坐标 \r\n  const touch = {}\r\n\r\n  //directionValue 记录 左右滑动 还是 上下滑动  \r\n  const directionValue = ref('')\r\n\r\n  //最初 操作的dom(手指还未松开) \r\n  let currentView = 'cd'\r\n\r\n  function onMiddleTouchStart(e) {\r\n    // 初始 x 坐标 \r\n    touch.x1 = e.touches[0].pageX\r\n    touch.y1 = e.touches[0].pageY\r\n    //方向锁定 \r\n    touch.directionLocked = ''\r\n  }\r\n\r\n  function onMiddleTouchMove(e) {\r\n    // 获取偏移量  \r\n    const deltaX = e.touches[0].pageX - touch.x1\r\n    const deltaY = e.touches[0].pageY - touch.y1\r\n\r\n    const absDeltaX = Math.abs(deltaX) //取绝对值 \r\n    const absDeltaY = Math.abs(deltaY) //取绝对值 \r\n\r\n    if (!touch.directionLocked) {\r\n      //第一次进来 锁定方向 \r\n      touch.directionLocked = absDeltaX >= absDeltaY ? '水平' : '垂直'\r\n    }\r\n\r\n    if (touch.directionLocked === '垂直') {\r\n      directionValue.value = '垂直'\r\n      return\r\n    }\r\n\r\n    directionValue.value = '水平'\r\n\r\n    // 计算一下 百分比 手指移动量  / 屏幕宽度 \r\n    touch.percent = absDeltaX / window.innerWidth\r\n\r\n    // cd 界面 \r\n    if (currentView === 'cd') {\r\n      if (deltaX < 0) {\r\n        // 左滑  记录歌词页面的 左移量\r\n        touch.left = deltaX\r\n        // 手指 滑动超过 0.2比例 值切换Wie lyric \r\n        currentShow.value = touch.percent > 0.2 ? 'lyric' : 'cd'\r\n        middleLStyle.value = {\r\n          opacity: 1 - touch.percent\r\n        }\r\n        middleRStyle.value = {\r\n          transform: `translate(${touch.left}px,0)`\r\n        }\r\n      }\r\n    } else {\r\n      //歌词页面 \r\n      if (deltaX > 0) {\r\n        // 右滑   404 \r\n        touch.left = -window.innerWidth + deltaX\r\n        currentShow.value = touch.percent > 0.2 ? 'cd' : 'lyric'\r\n        middleLStyle.value = {\r\n          opacity: touch.percent\r\n        }\r\n        middleRStyle.value = {\r\n          transform: `translate(${touch.left}px,0)`\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  function onMiddleTouchEnd() {\r\n    // currentShow 在手指离开屏幕时才确定  currentView  在手指离开屏幕时才发生变化 \r\n    // 确定 松手后 的dom \r\n    // 松手之后是 cd \r\n    if (currentShow.value === 'cd') {\r\n      middleLStyle.value = {\r\n        opacity: 1,\r\n        transition: 'opacity 0.3s'\r\n      }\r\n      middleRStyle.value = {\r\n        transform: `translate(0,0)`,\r\n        transition: 'transform 0.3s'\r\n      }\r\n      currentView = 'cd' //当前真正 显示的 页面  \r\n    } else {\r\n      // 松手之后是 lyric 歌词 \r\n      middleLStyle.value = {\r\n        opacity: 0,\r\n        transition: 'opacity 0.3s'\r\n      }\r\n      middleRStyle.value = {\r\n        transform: `translate(${-window.innerWidth}px,0)`,\r\n        transition: 'transform 0.3s'\r\n      }\r\n      currentView = 'lyric' //当前真正 显示的 页面  \r\n    }\r\n  }\r\n\r\n  return {\r\n    onMiddleTouchStart,\r\n    onMiddleTouchMove,\r\n    onMiddleTouchEnd,\r\n    middleLStyle,\r\n    middleRStyle,\r\n    currentShow,\r\n    directionValue\r\n  }\r\n\r\n}","import { getLyric } from '@/service/song'\r\nimport { watch, computed, ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { formatLyric } from '@/assets/js/utils'\r\n\r\nexport default function useLyric(currentTime) {\r\n  //当前歌曲有变化 去触发请求当前歌曲的 歌词 \r\n  const store = useStore()\r\n  const currentLyric = ref([])\r\n  //根据 播放时间 计算 当前歌词的列数 \r\n  const currentLineNum = ref(0)\r\n  const lyricScrollRef = ref(null)\r\n  const lyricRef = ref(null)\r\n  const playingLyric = ref('')\r\n\r\n  const currentSong = computed(() => store.getters.currentSong);\r\n\r\n  let timer = null\r\n\r\n  watch(currentSong, async (newSong) => {\r\n    if (!newSong.id) return\r\n    const { lrc: { lyric } } = await getLyric(newSong)\r\n    currentLyric.value = formatLyric(lyric)\r\n    //要清空 否则就沿用上一首歌的 时间 \r\n    currentTime.value = 0\r\n\r\n    stopLyric()\r\n    // 播放歌词 \r\n    playLyric()\r\n  })\r\n  watch(currentLineNum, (newNum) => {\r\n    // currentLineNum 1\r\n    // 动画效果的 函数执行  \r\n    run(newNum)\r\n  })\r\n\r\n  function run(newNum) {\r\n    // 滚动组件 \r\n    const lyricScrollRefValue = lyricScrollRef.value\r\n    //div 用于获取对应的 歌词 p 元素 \r\n    const lyricRefValue = lyricRef.value\r\n\r\n    if (newNum > 5) {\r\n      // 把某个元素 拉到上方  scrollToElement(targetEl) \r\n      const targetEl = lyricRefValue.children[newNum - 5]\r\n\r\n      lyricScrollRefValue.scroll.scrollToElement(targetEl, 1000)\r\n    } else {\r\n      //如果index <= 5 就不发生滚动 \r\n      lyricScrollRefValue.scroll.scrollTo(0, 0, 1000)\r\n    }\r\n\r\n  }\r\n  function playLyric() {\r\n    const currentLyricValue = currentLyric.value\r\n    if (currentLyricValue) {\r\n      // 计算当前的行数  \r\n      countIndex()  //currentLineNum 0  \r\n      // 开启 歌词滚动 运动函数 \r\n      startRun()\r\n    }\r\n  }\r\n\r\n  //停止歌词定时器 \r\n  function stopLyric() {\r\n    clearTimeout(timer)\r\n  }\r\n\r\n  function startRun() {\r\n    const currentLyricValue = currentLyric.value\r\n    if (!currentLyricValue.length) return\r\n    let index = currentLineNum.value //获取当前的行数  0 歌词  //currentLineNum 0 \r\n    // 计算下一句歌词触发运行的定时器的延迟时间   1 歌词 time - currentTime\r\n    //下一句歌词的time - currentTime\r\n\r\n    //如果已经到最后一条歌词了 就不再往下开启定时器 \r\n    if (index === currentLyricValue.length - 1) return\r\n\r\n    //模拟 currentTime.value 0  序号1 位置的时间 0.5s \r\n    let delay = currentLyricValue[index + 1].time - currentTime.value // 0.5 (0.5秒之后 触发 currentLineNum的变化 0 ==> 1 )\r\n\r\n    timer = setTimeout(() => { // 0.5秒之后执行   currentLineNum 变成 1   startRun() delay 0.8 开启了一个 0.8秒的定时器  0.8s之后 currentLineNum 1 变成 2 \r\n      // 不能超过最后一项的下标的 \r\n      currentLineNum.value = Math.min(++index, currentLyricValue.length - 1)\r\n      //当前播放歌词更新\r\n      playingLyric.value = currentLyricValue[currentLineNum.value].content\r\n      startRun()\r\n      // 当前触发 下一句歌词的定时器时  开启下下句歌词的定时器 \r\n    }, delay * 1000)\r\n\r\n  }\r\n\r\n  function countIndex() {\r\n    // currentTime 和 歌词数组中 time的比较 \r\n    let currentLyricValue = currentLyric.value\r\n    let currentTimeValue = currentTime.value\r\n    //如果歌词数组为空 返回 \r\n    if (!currentLyricValue.length) return\r\n    let index = 0\r\n    for (let i = 0; i < currentLyricValue.length; i++) {\r\n      // 当前时间  大于等于当前i的time 且小于下一个i的time 则取 i 为当前歌曲index (如果是最后一项歌词  只需要 第一个条件满足即可 ) \r\n      if (currentTimeValue >= currentLyricValue[i].time && currentLyricValue[i + 1] ? currentTimeValue < currentLyricValue[i + 1].time : true) {\r\n        index = i\r\n        break\r\n      }\r\n    }\r\n    // 当前行数 playLyric\r\n    currentLineNum.value = index\r\n    playingLyric.value = currentLyricValue[index].content\r\n  }\r\n  return {\r\n    currentLyric,\r\n    lyricScrollRef,\r\n    lyricRef,\r\n    currentLineNum,\r\n    stopLyric,\r\n    playLyric,\r\n    playingLyric\r\n  }\r\n}\r\n\r\n\r\n// 定时器 delay 0.5  currentLineNum  5 ==> 6     同时开启了一个 定时器 delay 0.8 ( 6 ==> 7 )\r\n// currentLineNum发生了变化  run 6\r\n\r\n// 定时器 delay 0.8 ( 6 ==> 7 )   同时开启了一个 定时器 delay 0.3 ( 7 ==> 8 )\r\n// currentLineNum发生了变化  run 7\r\n\r\n","import storage from '@/assets/js/storage-api'\r\nimport { useStore } from 'vuex'\r\nimport { computed, onMounted } from 'vue'\r\n\r\nexport default function usePlayHistory() {\r\n  const store = useStore()\r\n  const playHistory = computed(() => store.state.playHistory)\r\n\r\n  function savePlayHistory(song) {\r\n    let list = playHistory.value.slice()\r\n    let index = list.findIndex(item => item.id === song.id)\r\n\r\n    if (index > -1) {\r\n      //在最近播放队列中存在  把这首歌 提到数组最前面来  [1,2,3,4]      [3]\r\n      list.unshift(...list.splice(index, 1))\r\n    } else {\r\n      //不在 添加数组最前面\r\n      list.unshift(song)\r\n    }\r\n\r\n    list.length = Math.min(200, list.length)\r\n\r\n    storage.setLocal('__playHistory__', list)\r\n    store.commit('setPlayHistory', list)\r\n  }\r\n\r\n  onMounted(() => {\r\n    //用上本地存储 \r\n    if (!playHistory.value.length) {\r\n      let result = storage.getLocal('__playHistory__', [])\r\n      if (result.length) {\r\n        store.commit('setPlayHistory', result)\r\n      }\r\n    }\r\n  })\r\n\r\n  return {\r\n    savePlayHistory\r\n  }\r\n}\r\n\r\n","<template>\r\n  <div class=\"player\" v-if=\"playlist.length\">\r\n    <transition name=\"normal\">\r\n      <div class=\"normal-player\" v-show=\"fullScreen\">\r\n        <div class=\"background\">\r\n          <img :src=\"currentSong.al.picUrl\" />\r\n        </div>\r\n        <div class=\"top\">\r\n          <div class=\"back\" @click=\"showMini\">\r\n            <i class=\"icon-back\"></i>\r\n          </div>\r\n          <h1 class=\"title\">{{ currentSong.name }}</h1>\r\n          <h2 class=\"subtitle\">{{ handle(currentSong) }}</h2>\r\n        </div>\r\n        <!-- cd 和 歌词的区域  -->\r\n        <div\r\n          class=\"middle\"\r\n          @touchstart=\"onMiddleTouchStart\"\r\n          @touchmove=\"onMiddleTouchMove\"\r\n          @touchend=\"onMiddleTouchEnd\"\r\n        >\r\n          <div class=\"middle-l\" :style=\"middleLStyle\">\r\n            <div class=\"cd-wrapper playing\" :style=\"cdStyle\">\r\n              <div class=\"cd\">\r\n                <img class=\"image\" :src=\"currentSong.al.picUrl\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"playing-lyric-wrapper\">\r\n              <div class=\"playing-lyric\">{{ playingLyric }}</div>\r\n            </div>\r\n          </div>\r\n          <Scroll class=\"middle-r\" :style=\"middleRStyle\" ref=\"lyricScrollRef\">\r\n            <div class=\"lyric-wrapper\">\r\n              <div ref=\"lyricRef\">\r\n                <p\r\n                  class=\"text\"\r\n                  v-for=\"(item, index) in currentLyric\"\r\n                  :key=\"item\"\r\n                  :class=\"{ current: index === currentLineNum }\"\r\n                >\r\n                  {{ item.content }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </Scroll>\r\n        </div>\r\n\r\n        <div class=\"bottom\">\r\n          <div class=\"dot-wrapper\">\r\n            <span class=\"dot\" :class=\"{ active: currentShow === 'cd' }\"></span>\r\n            <span\r\n              class=\"dot\"\r\n              :class=\"{ active: currentShow === 'lyric' }\"\r\n            ></span>\r\n          </div>\r\n          <div class=\"progress-wrapper\">\r\n            <span class=\"time time-l\">{{ formatTime(currentTime) }}</span>\r\n            <div class=\"progress-bar-wrapper\">\r\n              <ProgressBar\r\n                :progress=\"progress\"\r\n                @progressChanging=\"onProgressChanging\"\r\n                @progressChanged=\"onProgressChanged\"\r\n              ></ProgressBar>\r\n            </div>\r\n            <span class=\"time time-r\">{{ formatTime(duration) }}</span>\r\n          </div>\r\n          <div class=\"operators\">\r\n            <div class=\"icon i-left\">\r\n              <i :class=\"modeIcon\" @click=\"changeMode\"></i>\r\n            </div>\r\n            <div class=\"icon i-left\">\r\n              <i class=\"icon-prev\" @click=\"prev\"></i>\r\n            </div>\r\n            <div class=\"icon i-center\">\r\n              <i :class=\"playIcon\" @click=\"togglePlay\"></i>\r\n            </div>\r\n            <div class=\"icon i-right\">\r\n              <i class=\"icon-next\" @click=\"next\"></i>\r\n            </div>\r\n            <div class=\"icon i-right\">\r\n              <i\r\n                :class=\"getFavoriteIcon(currentSong)\"\r\n                @click=\"togglefavorite(currentSong)\"\r\n              ></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <MiniPlayer\r\n      :handle=\"handle\"\r\n      :progress=\"progress\"\r\n      :cdStyle=\"cdStyle\"\r\n      :togglePlay=\"togglePlay\"\r\n    ></MiniPlayer>\r\n  </div>\r\n  <audio\r\n    ref=\"audioRef\"\r\n    @timeupdate=\"updateTime\"\r\n    @canplay=\"ready\"\r\n    @ended=\"end\"\r\n  ></audio>\r\n</template>\r\n<script setup>\r\nimport ProgressBar from \"./components/progress-bar\";\r\nimport Scroll from \"@/components/base/scroll\";\r\nimport MiniPlayer from \"./components/mini-player\";\r\nimport { computed, watch, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { getSongUrl } from \"@/service/song\";\r\nimport { formatTime } from \"@/assets/js/utils\";\r\nimport useMode from \"./use-mode\";\r\nimport useFavorite from \"./use-favorite\";\r\nimport useMiddle from \"./use-middle\";\r\nimport useLyric from \"./use-lyric\";\r\nimport usePlayHistory from \"./use-play-history\";\r\nconst store = useStore();\r\nconst audioRef = ref(null);\r\n//记录当前播放时间\r\nconst currentTime = ref(0);\r\n// 此歌的总时长\r\nconst duration = ref(0);\r\n\r\n//是否在进度拖动中\r\nlet progressChanging = false;\r\n\r\n// vuex\r\nconst fullScreen = computed(() => store.state.fullScreen);\r\nconst playlist = computed(() => store.state.playlist);\r\nconst sequenceList = computed(() => store.state.sequenceList);\r\nconst playing = computed(() => store.state.playing);\r\nconst currentIndex = computed(() => store.state.currentIndex);\r\nconst playMode = computed(() => store.state.playMode);\r\nconst currentSong = computed(() => store.getters.currentSong);\r\n\r\nconst playIcon = computed(() => (playing.value ? \"icon-pause\" : \"icon-play\"));\r\nconst cdStyle = computed(() => {\r\n  return {\r\n    animationPlayState: playing.value ? \"running\" : \"paused\",\r\n  };\r\n});\r\n\r\n//播放进度 0 ~ 1\r\nconst progress = computed(() => {\r\n  if (!audioRef.value) return;\r\n  return currentTime.value / duration.value;\r\n});\r\n// hooks\r\nconst { modeIcon, changeMode } = useMode();\r\nconst { getFavoriteIcon, togglefavorite } = useFavorite();\r\nconst {\r\n  onMiddleTouchStart,\r\n  onMiddleTouchMove,\r\n  onMiddleTouchEnd,\r\n  middleLStyle,\r\n  middleRStyle,\r\n  currentShow,\r\n  directionValue,\r\n} = useMiddle();\r\n\r\nconst {\r\n  currentLyric,\r\n  lyricScrollRef,\r\n  lyricRef,\r\n  currentLineNum,\r\n  stopLyric,\r\n  playLyric,\r\n  playingLyric,\r\n} = useLyric(currentTime);\r\n\r\nconst { savePlayHistory } = usePlayHistory();\r\n\r\nwatch(currentSong, async (newSong) => {\r\n  // 空对象\r\n  if (!newSong.id) return;\r\n  const { data } = await getSongUrl(newSong);\r\n  const url = data[0].url;\r\n  let playlistValue = playlist.value.slice();\r\n  let sequenceListValue = sequenceList.value.slice();\r\n\r\n  if (!url) {\r\n    //把这首 请求失败的歌 从 播放列表中移除 播放下一首歌\r\n    let indexP = playlistValue.findIndex((item) => item.id === newSong.id);\r\n    let indexS = sequenceListValue.findIndex((item) => item.id === newSong.id);\r\n    playlistValue.splice(indexP, 1);\r\n    sequenceListValue.splice(indexS, 1);\r\n    // 修改vuex中的数据状态\r\n    store.commit(\"setPlaylist\", playlistValue);\r\n    store.commit(\"setSequenceList\", sequenceListValue);\r\n    store.commit(\r\n      \"setCurrentIndex\",\r\n      // 如果请求不到 url 的 是最后一首歌\r\n      indexS >= sequenceListValue.length ? 0 : indexS\r\n    );\r\n    return;\r\n  }\r\n  // 请求成功\r\n  let audio = audioRef.value;\r\n  audio.src = url;\r\n  audio.play();\r\n  // 把这首歌添加到最近播放队列\r\n  savePlayHistory(newSong);\r\n  store.commit(\"setPlayingState\", true);\r\n});\r\n\r\nwatch(playing, (newPlaying) => {\r\n  let audio = audioRef.value;\r\n  if (newPlaying) {\r\n    //播放\r\n    audio.play();\r\n    stopLyric();\r\n    playLyric();\r\n  } else {\r\n    //暂停\r\n    audio.pause();\r\n    stopLyric();\r\n  }\r\n});\r\n\r\nwatch(directionValue, (newDirection) => {\r\n  if (newDirection === \"垂直\") {\r\n    //恢复功能\r\n    lyricScrollRef.value.scroll.enable();\r\n  } else {\r\n    //水平方向  禁用 scroll 失去功能\r\n\r\n    lyricScrollRef.value.scroll.disable();\r\n  }\r\n});\r\n\r\n// 用于处理人名\r\nfunction handle(item) {\r\n  return item.ar\r\n    .map((nameObj) => {\r\n      return nameObj.name;\r\n    })\r\n    .join(\"-\");\r\n}\r\n\r\nfunction togglePlay() {\r\n  //切换播放状态\r\n  store.commit(\"setPlayingState\", !playing.value);\r\n}\r\n\r\n//右切换\r\nfunction next() {\r\n  const list = sequenceList.value;\r\n  //如果没有歌\r\n  if (!list.length) return;\r\n  if (list.length === 1) return loop();\r\n  let index = currentIndex.value + 1;\r\n  if (index === list.length) {\r\n    //说明当前歌曲已经是列表最后一项\r\n    index = 0;\r\n  }\r\n  store.commit(\"setCurrentIndex\", index);\r\n}\r\n// 左切换\r\nfunction prev() {\r\n  const list = sequenceList.value;\r\n  //如果没有歌\r\n  if (!list.length) return;\r\n  if (list.length === 1) return loop();\r\n  let index = currentIndex.value - 1;\r\n  if (index === -1) {\r\n    //说明当前歌曲是列表第一项\r\n    index = list.length - 1;\r\n  }\r\n  store.commit(\"setCurrentIndex\", index);\r\n}\r\n//单曲循环\r\nfunction loop() {\r\n  const audio = audioRef.value;\r\n  // currentTime 当前播放时间\r\n  audio.currentTime = currentTime.value = 0;\r\n\r\n  //重新播放\r\n  audio.play();\r\n  store.commit(\"setPlayingState\", true);\r\n\r\n  stopLyric();\r\n  playLyric();\r\n}\r\n\r\nfunction updateTime() {\r\n  //当进度拖动时 不触发 此 currentTime 更新\r\n  if (progressChanging) return;\r\n  currentTime.value = audioRef.value.currentTime;\r\n}\r\n\r\nfunction ready() {\r\n  duration.value = audioRef.value.duration;\r\n}\r\n\r\nfunction end() {\r\n  currentTime.value = 0;\r\n  if (playMode.value === 1) {\r\n    //单曲循环\r\n    loop();\r\n  } else {\r\n    // 播放下一首\r\n    next();\r\n  }\r\n}\r\nfunction onProgressChanging(progress) {\r\n  progressChanging = true;\r\n  currentTime.value = progress * duration.value;\r\n  // 滚动中 歌词不要发生变化\r\n  stopLyric();\r\n}\r\nfunction onProgressChanged(progress) {\r\n  progressChanging = false;\r\n  //设置给 audio 真正去修改 播放位置\r\n  audioRef.value.currentTime = currentTime.value = progress * duration.value;\r\n\r\n  if (!playing.value) {\r\n    store.commit(\"setPlayingState\", true);\r\n  }\r\n  stopLyric();\r\n  playLyric();\r\n}\r\n\r\nfunction showMini() {\r\n  store.commit(\"setFullScreen\", false);\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.player {\r\n  position: fixed;\r\n  z-index: 100;\r\n  top: 0;\r\n  left: 0;\r\n  .normal-player {\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 150;\r\n    background: $color-background;\r\n    .background {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      z-index: -1;\r\n      opacity: 0.6;\r\n      filter: blur(20px);\r\n\r\n      img {\r\n        height: 100%;\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n      }\r\n    }\r\n    .top {\r\n      position: relative;\r\n      margin-bottom: 25px;\r\n      .back {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 6px;\r\n        z-index: 50;\r\n      }\r\n      .icon-back {\r\n        display: block;\r\n        padding: 9px;\r\n        font-size: $font-size-large-x;\r\n        color: $color-theme;\r\n        transform: rotate(-90deg);\r\n      }\r\n      .title {\r\n        width: 70%;\r\n        margin: 0 auto;\r\n        line-height: 40px;\r\n        text-align: center;\r\n        @include no-wrap();\r\n        font-size: $font-size-large;\r\n        color: $color-text;\r\n      }\r\n      .subtitle {\r\n        line-height: 20px;\r\n        text-align: center;\r\n        font-size: $font-size-medium;\r\n        color: $color-text;\r\n      }\r\n    }\r\n    .middle {\r\n      position: fixed;\r\n      width: 100%;\r\n      top: 80px;\r\n      bottom: 170px;\r\n      white-space: nowrap;\r\n      font-size: 0;\r\n      .middle-l {\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        position: relative;\r\n        width: 100%;\r\n        height: 0;\r\n        padding-top: 80%;\r\n        .cd-wrapper {\r\n          position: absolute;\r\n          left: 10%;\r\n          top: 0;\r\n          width: 80%;\r\n          box-sizing: border-box;\r\n          height: 100%;\r\n          overflow: hidden;\r\n          height: 100%;\r\n          border-radius: 50%;\r\n          border: 10px solid rgba(255, 255, 255, 0.1);\r\n          &.playing {\r\n            animation: rotate 20s linear infinite;\r\n          }\r\n          .cd {\r\n            width: 100%;\r\n            img {\r\n              position: absolute;\r\n              left: 50%;\r\n              top: 50%;\r\n              height: 100%;\r\n              box-sizing: border-box;\r\n              transform: translate(-50%, -50%);\r\n            }\r\n          }\r\n        }\r\n        .playing-lyric-wrapper {\r\n          width: 80%;\r\n          margin: 30px auto 0 auto;\r\n          overflow: hidden;\r\n          text-align: center;\r\n          .playing-lyric {\r\n            height: 20px;\r\n            line-height: 20px;\r\n            font-size: $font-size-medium;\r\n            color: $color-text-l;\r\n          }\r\n        }\r\n      }\r\n      .middle-r {\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n        .lyric-wrapper {\r\n          width: 80%;\r\n          margin: 0 auto;\r\n          overflow: hidden;\r\n          text-align: center;\r\n          .text {\r\n            line-height: 32px;\r\n            color: $color-text-l;\r\n            font-size: $font-size-medium;\r\n            &.current {\r\n              color: $color-text;\r\n            }\r\n          }\r\n          .pure-music {\r\n            padding-top: 50%;\r\n            line-height: 32px;\r\n            color: $color-text-l;\r\n            font-size: $font-size-medium;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .bottom {\r\n      position: absolute;\r\n      bottom: 50px;\r\n      width: 100%;\r\n      .dot-wrapper {\r\n        text-align: center;\r\n        font-size: 0;\r\n        .dot {\r\n          display: inline-block;\r\n          vertical-align: middle;\r\n          margin: 0 4px;\r\n          width: 8px;\r\n          height: 8px;\r\n          border-radius: 50%;\r\n          background: $color-text-l;\r\n          &.active {\r\n            width: 20px;\r\n            border-radius: 5px;\r\n            background: $color-text-ll;\r\n          }\r\n        }\r\n      }\r\n      .progress-wrapper {\r\n        display: flex;\r\n        align-items: center;\r\n        width: 80%;\r\n        margin: 0px auto;\r\n        padding: 10px 0;\r\n        .time {\r\n          color: $color-text;\r\n          font-size: $font-size-small;\r\n          flex: 0 0 40px;\r\n          line-height: 30px;\r\n          width: 40px;\r\n          &.time-l {\r\n            text-align: left;\r\n          }\r\n          &.time-r {\r\n            text-align: right;\r\n          }\r\n        }\r\n        .progress-bar-wrapper {\r\n          flex: 1;\r\n        }\r\n      }\r\n      .operators {\r\n        display: flex;\r\n        align-items: center;\r\n        .icon {\r\n          flex: 1;\r\n          color: $color-theme;\r\n          &.disable {\r\n            color: $color-theme-d;\r\n          }\r\n          i {\r\n            font-size: 30px;\r\n          }\r\n        }\r\n        .i-left {\r\n          text-align: right;\r\n        }\r\n        .i-center {\r\n          padding: 0 20px;\r\n          text-align: center;\r\n          i {\r\n            font-size: 40px;\r\n          }\r\n        }\r\n        .i-right {\r\n          text-align: left;\r\n        }\r\n        .icon-favorite {\r\n          color: $color-theme;\r\n        }\r\n      }\r\n    }\r\n    &.normal-enter-active,\r\n    &.normal-leave-active {\r\n      transition: all 0.6s;\r\n      .middle-l,\r\n      .top,\r\n      .bottom {\r\n        transition: all 0.6s cubic-bezier(0.45, 0, 0.55, 1);\r\n      }\r\n    }\r\n    &.normal-enter-from,\r\n    &.normal-leave-to {\r\n      opacity: 0;\r\n      .top {\r\n        transform: translate3d(0, -100px, 0);\r\n      }\r\n      .bottom {\r\n        transform: translate3d(0, 100px, 0);\r\n      }\r\n      .middle-l {\r\n        transform: scale(0);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3c0a138c&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\朱雀\\\\Desktop\\\\vue 2-7\\\\31 实战14\\\\vue3_music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3c0a138c\"]])\n\nexport default __exports__","<template>\n  <div id=\"nav\">\n    <MHeader></MHeader>\n    <Tab></Tab>\n    <router-view :style=\"viewStyle\"></router-view>\n  </div>\n  <Player></Player>\n</template>\n\n<script setup>\nimport MHeader from \"@/components/header\";\nimport Tab from \"@/components/tab\";\nimport Player from \"@/components/player\";\n\nimport { useStore } from \"vuex\";\nimport { computed } from \"vue\";\nconst store = useStore();\nconst playlist = computed(() => store.state.playlist);\nconst viewStyle = computed(() => {\n  return {\n    bottom: playlist.value.length ? \"60px\" : 0,\n  };\n});\n</script>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\n\nconst Recommend = () => import('@/views/Recommend')\nconst Singer = () => import('@/views/Singer')\nconst TopList = () => import('@/views/TopList')\nconst Search = () => import('@/views/Search')\nconst SingerDetail = () => import('@/views/SingerDetail')\nconst AlbumDetail = () => import('@/views/AlbumDetail')\nconst TopDetail = () => import('@/views/TopDetail')\nconst UserCenter = () => import('@/views/UserCenter')\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/recommend'\n  },\n  {\n    path: '/recommend',\n    component: Recommend,\n    children: [\n      {\n        path: ':id',\n        component: AlbumDetail\n      }\n    ]\n  },\n  {\n    path: '/singer',\n    component: Singer,\n    children: [\n      {\n        path: ':id',\n        component: SingerDetail\n      }\n    ]\n  },\n  {\n    path: '/top',\n    component: TopList,\n    children: [\n      {\n        path: ':id',\n        component: TopDetail\n      }\n    ]\n  },\n  {\n    path: '/search',\n    component: Search\n  },\n  {\n    path: '/user',\n    component: UserCenter\n  },\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","const state = {\r\n  //当前播放的列表 \r\n  sequenceList: [],\r\n\r\n  //源播放列表 \r\n  playlist: [],\r\n\r\n  // 播放状态\r\n  playing: false,\r\n\r\n  // 播放模式 \r\n  // 0 顺序播放 1 单曲循环  2 随机播放\r\n  playMode: 0,\r\n\r\n  //当前的播放索引值\r\n  currentIndex: 0,\r\n\r\n  // 全屏播放器 mini播放器 \r\n  fullScreen: false,\r\n\r\n  // 最爱的歌曲列表\r\n  favoriteList: [],\r\n\r\n  //历史播放记录 \r\n  playHistory: []\r\n}\r\n\r\nexport default state","const getters = {\r\n\r\n  //获取当前 播放歌曲对象  \r\n  currentSong(state) {\r\n    return state.sequenceList[state.currentIndex] || {}\r\n  }\r\n\r\n}\r\n\r\nexport default getters","const actions = {\r\n  // 添加一首歌到列表 \r\n  // 使用场景  歌手(歌单 排行榜)详情页面的 li   搜索详情 li \r\n  addOnePlay({ commit, state }, list) {\r\n    const playlist = state.playlist.slice()\r\n    const sequenceList = state.sequenceList.slice()\r\n    let currentIndex = state.currentIndex\r\n\r\n    // 判断 加入的歌曲 是否在 sequenceList中存在 \r\n    let sequenceindex = findIndex(sequenceList, list[0])\r\n    //  新增歌曲 放到当前播放歌曲的后面  \r\n    sequenceList.splice(currentIndex + 1, 0, list[0])\r\n\r\n    if (sequenceindex > 0) {//歌曲存在 \r\n      if (currentIndex < sequenceindex) {\r\n        //原本存在的 歌曲 在当前播放歌曲 之后  删除原本存在的歌曲 \r\n        sequenceList.splice(sequenceindex + 1, 1)\r\n        currentIndex++\r\n      } else {\r\n        //原本存在的 歌曲 在当前播放歌曲 之前  删除原本存在的歌曲 \r\n        sequenceList.splice(sequenceindex, 1)\r\n      }\r\n    } else {//歌曲不存在 \r\n      currentIndex++\r\n      //添加到源歌曲列表 \r\n      playlist.unshift(list[0])\r\n    }\r\n\r\n\r\n    // 边界情况  \r\n    if (sequenceList.length === 1) {\r\n      currentIndex = 0 //其他的下标 根本没值 \r\n    }\r\n\r\n    //设置当前播放歌曲列表 \r\n    commit('setSequenceList', sequenceList)\r\n    //设置源歌曲列表\r\n    commit('setPlaylist', playlist)\r\n    //设置播放状态\r\n    commit('setPlayingState', true)\r\n    //设置全屏\r\n    commit('setFullScreen', true)\r\n\r\n    //设置当前歌曲下标\r\n    commit('setCurrentIndex', currentIndex)\r\n\r\n  },\r\n\r\n  // 设置 全部歌曲 到当前歌曲列表 \r\n  //使用场景 所有的 顺序播放按钮  \r\n  addAllPlay({ commit, state }, list) {\r\n    //设置当前播放歌曲列表 \r\n    commit('setSequenceList', list)\r\n    //设置源歌曲列表\r\n    commit('setPlaylist', list)\r\n    //设置播放状态\r\n    commit('setPlayingState', true)\r\n    //设置全屏\r\n    commit('setFullScreen', true)\r\n    //设置当前歌曲下标\r\n    commit('setCurrentIndex', 0)\r\n\r\n    //设置播放模式 切换为顺序模式 \r\n    commit('setPlayMode', 0)\r\n  },\r\n  // 修改播放模式 \r\n  changeMode({ commit, state, getters }, mode) {\r\n    const currentSong = getters.currentSong\r\n    // 修改为随机播放\r\n    if (mode === 2) {\r\n      //把乱序之后的 playlist 赋值给 sequenceList\r\n      commit('setSequenceList', shuffle(state.playlist))\r\n    } else {\r\n      commit('setSequenceList', state.playlist)\r\n    }\r\n    //当前的播放歌曲不变  \r\n    const index = findIndex(state.sequenceList, currentSong)\r\n    commit('setCurrentIndex', index)\r\n    commit('setPlayMode', mode)\r\n  },\r\n\r\n  removeSong({ commit, state }, song) {\r\n    const sequenceList = state.sequenceList.slice()\r\n    const playlist = state.playlist.slice()\r\n    let currentIndex = state.currentIndex\r\n\r\n    //找到需要被删除的歌曲的 对应 index下标 \r\n    const sequenceIndex = findIndex(sequenceList, song)\r\n    const playlistIndex = findIndex(playlist, song)\r\n    //找不到\r\n    if (sequenceIndex < 0 || playlistIndex < 0) return\r\n    //找到了\r\n    //删除该歌曲 \r\n    sequenceList.splice(sequenceIndex, 1)\r\n    playlist.splice(playlistIndex, 1)\r\n\r\n    if (sequenceIndex < currentIndex) {\r\n      //被删除项 在当前播放歌曲之前 \r\n      currentIndex--\r\n    }\r\n    //被删除项是当前播放歌曲 且在 sequenceList的最后一项 \r\n    if (sequenceList.length === currentIndex) {\r\n      currentIndex = 0\r\n    }\r\n\r\n    commit('setSequenceList', sequenceList)\r\n    commit('setPlaylist', playlist)\r\n    commit('setCurrentIndex', currentIndex)\r\n\r\n    if (!playlist.length) {\r\n      //源歌曲列表为空\r\n      commit('setPlayingState', false)\r\n    }\r\n  },\r\n\r\n  //全部清空 \r\n  clearSongList({ commit }) {\r\n    commit('setSequenceList', [])\r\n    commit('setPlaylist', [])\r\n    commit('setCurrentIndex', 0)\r\n    commit('setPlayingState', false)\r\n  }\r\n\r\n}\r\n\r\nfunction findIndex(list, song) {\r\n  //返回 return 为 true时的 index下标   如果都不满足 -1\r\n  return list.findIndex((item) => item.id === song.id)\r\n\r\n}\r\n\r\nfunction shuffle(list) {\r\n  const arr = list.slice()\r\n  arr.sort((a, b) => {\r\n    return Math.random() - 0.5\r\n  })\r\n  return arr\r\n}\r\nexport default actions","\r\nconst mutations = {\r\n  //设置当前歌曲列表 \r\n  setSequenceList(state, list) {\r\n    state.sequenceList = list\r\n  },\r\n  //设置源歌曲列表\r\n  setPlaylist(state, list) {\r\n    state.playlist = list\r\n  },\r\n  //设置播放状态\r\n  setPlayingState(state, playing) {\r\n    state.playing = playing\r\n  },\r\n  //设置播放模式\r\n  setPlayMode(state, mode) {\r\n    state.playMode = mode\r\n  },\r\n  //设置播放索引值\r\n  setCurrentIndex(state, index) {\r\n    state.currentIndex = index\r\n  },\r\n  //设置全屏状态\r\n  setFullScreen(state, fullScreen) {\r\n    state.fullScreen = fullScreen\r\n  },\r\n  //设置喜欢列表\r\n  setFavoriteList(state, list) {\r\n    state.favoriteList = list\r\n  },\r\n  //设置历史播放列表\r\n  setPlayHistory(state, list) {\r\n    state.playHistory = list\r\n  },\r\n}\r\n\r\nexport default mutations","import { createLogger, createStore } from 'vuex'\nimport state from './state'\nimport getters from './getters'\nimport actions from './actions'\nimport mutations from './mutations'\n\nconst debug = process.env.NODE_ENV !== 'production' //生产模式\n// true是 开发模式   false 生产模式  \nexport default createStore({\n  state,\n  mutations,\n  actions,\n  getters,\n  strict: debug, //严格模式 除 mutations之外的函数修改state内的数据 都是不允许的  \n  plugins: debug ? [createLogger()] : [] //自带日志插件 用于调试 每一次修改 生成快照 用于追踪数据状态  \n})\n\n","<template>\r\n  <div class=\"loading\">\r\n    <div class=\"loading-content\">\r\n      <img width=\"24\" height=\"24\" src=\"./loading.gif\" />\r\n      <p class=\"desc\">正在载入...</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.loading {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate3d(-50%, -50%, 0);\r\n  .loading-content {\r\n    text-align: center;\r\n    .desc {\r\n      line-height: 20px;\r\n      font-size: $font-size-small;\r\n      color: $color-text-l;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=072eef12&scoped=true\"\nconst script = {}\n\nimport \"./index.vue?vue&type=style&index=0&id=072eef12&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\朱雀\\\\Desktop\\\\vue 2-7\\\\31 实战14\\\\vue3_music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-072eef12\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"no-result\">\r\n    <div class=\"no-result-content\">\r\n      <div class=\"icon\"></div>\r\n      <p class=\"text\">抱歉，没有结果</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.no-result {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate3d(-50%, -50%, 0);\r\n  .no-result-content {\r\n    text-align: center;\r\n    .icon {\r\n      width: 86px;\r\n      height: 90px;\r\n      margin: 0 auto;\r\n      @include bg-image(\"no-result\");\r\n      background-size: 86px 90px;\r\n    }\r\n    .text {\r\n      margin-top: 30px;\r\n      font-size: $font-size-medium;\r\n      color: $color-text-d;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=5a2ddb14&scoped=true\"\nconst script = {}\n\nimport \"./index.vue?vue&type=style&index=0&id=5a2ddb14&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\朱雀\\\\Desktop\\\\vue 2-7\\\\31 实战14\\\\vue3_music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5a2ddb14\"]])\n\nexport default __exports__","import loading from '@/components/base/loading'\r\nimport noResult from '@/components/base/no-result'\r\nimport { createApp } from 'vue'\r\nimport { useIntersectionObserver } from '@vueuse/core'\r\n\r\nimport defaultImg from '@/assets/images/lazy.png' //默认占位图片\r\n\r\nexport default {\r\n  install(app) {\r\n    app.directive('loading', {\r\n      //绑定指令的dom 挂载到页面上之后 调用 \r\n      mounted(el, binding) {\r\n        // el 指令绑定的dom元素\r\n        // binding :value  value就是绑定值\r\n        // 把loading组件转为真实dom  才能插入到绑定的dom元素中 \r\n        const app = createApp(loading) //loading 组件应用对象  \r\n        const instance = app.mount(document.createElement('div')) //loading组件的实例对象  instance.$el 就是真实dom \r\n        el.instance = instance\r\n        if (binding.value) {\r\n          append(el)\r\n        }\r\n      },\r\n      // 有更新时调用 \r\n      updated(el, binding) {\r\n\r\n        if (binding.value !== binding.oldValue) {\r\n          binding.value ? append(el) : removeEl(el)\r\n        }\r\n      },\r\n    })\r\n\r\n    // 懒加载逻辑:监听 img dom 是否进入视口区域 进入 把 真实 src赋值给el.src \r\n    app.directive('img-lazy', {  // v-img-lazy='真实src'\r\n      // npm i @vueuse/core -S \r\n      mounted(el, binding) {\r\n        //全部设置为 占位图片 \r\n        el.src = defaultImg\r\n\r\n        const { stop } = useIntersectionObserver(el, ([{ isIntersecting }]) => {\r\n          // isIntersecting 真 el进入了视口区域  假 未进入视口区域\r\n          if (isIntersecting) {\r\n            el.onerror = function () {\r\n              el.src = defaultImg\r\n            }\r\n            el.src = binding.value\r\n            stop() //把真实url交给img之后 停止当前 img的监听  \r\n          }\r\n\r\n        })\r\n      }\r\n    })\r\n\r\n\r\n    app.directive('no-result', {\r\n      mounted(el, binding) {\r\n        const app = createApp(noResult)\r\n        const instance = app.mount(document.createElement('div'))\r\n        el.instance = instance\r\n        if (binding.value) {\r\n          append(el)\r\n        }\r\n      },\r\n      // 有更新时调用 \r\n      updated(el, binding) {\r\n        if (binding.value !== binding.oldValue) {\r\n          binding.value ? append(el) : removeEl(el)\r\n        }\r\n      },\r\n    })\r\n  }\r\n}\r\n\r\nfunction append(el) {\r\n  // 把 真实dom 插入 指令绑定dom上  \r\n  const style = getComputedStyle(el)\r\n  let arr = ['absolute', 'fixed', 'relative']\r\n  if (arr.indexOf(style.position) === -1) {\r\n    //绑定的dom 没有定位样式 \r\n    el.classList.add('g-relative')\r\n  }\r\n  el.appendChild(el.instance.$el)\r\n}\r\n\r\nfunction removeEl(el) {\r\n  el.classList.remove('g-relative')\r\n  el.removeChild(el.instance.$el)\r\n}\r\n\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\n\r\nimport './assets/scss/index.scss'\r\nimport directivePlugin from './plugins'\r\nconst app = createApp(App)\r\n\r\napp.use(store).use(router).use(directivePlugin).mount('#app')\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=22823288&scoped=true&lang=scss\"","import axios from 'axios'\r\n\r\nexport function get(url, params) {\r\n  return axios.get(url, {\r\n    params\r\n  }).then(res => {\r\n    return res.data //把响应的data数据返回 \r\n  }).catch(err => {\r\n    console.log(err);\r\n  })\r\n\r\n}","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=40b11fbc&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=3c0a138c&lang=scss&scoped=true\"","module.exports = \"data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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\"","import BScroll from '@better-scroll/core'\r\nimport ObserveDOM from '@better-scroll/observe-dom'\r\nimport { onMounted, ref, onUnmounted, onActivated, onDeactivated } from 'vue'\r\nBScroll.use(ObserveDOM)\r\n\r\nexport function useScroll(props, emit) {\r\n  // props 自己可以扩展的修改的 属性 比如probeType\r\n  const rootRef = ref(null)\r\n  const scroll = ref(null)\r\n  onMounted(() => {\r\n    scroll.value = new BScroll(rootRef.value, {\r\n      observeDOM: true,//开启深度监听dom的插件 \r\n      ...props\r\n    })\r\n\r\n    if (props.probeType > 0) {\r\n      //外层的是 betterscroll对象 自带的 \r\n      scroll.value.on('scroll', (pos) => {\r\n        //触发 父组件内的  scroll自定义事件 \r\n        emit('scroll', pos)\r\n      })\r\n    }\r\n\r\n  })\r\n  onUnmounted(() => {\r\n    // 销毁 \r\n    scroll.value.destroy()\r\n  })\r\n\r\n  onActivated(() => {\r\n    // 恢复功能 \r\n    scroll.value.enable()\r\n    // 刷新 \r\n    scroll.value.refresh()\r\n  })\r\n\r\n  onDeactivated(() => {\r\n    // 失去功能 \r\n    scroll.value.disable()\r\n  })\r\n  return {\r\n    rootRef,\r\n    scroll\r\n  }\r\n}","<template>\r\n  <div ref=\"rootRef\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { useScroll } from \"./use-scroll\";\r\nconst props = defineProps({\r\n  probeType: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  click: {\r\n    type: Boolean,\r\n    default: true,\r\n  },\r\n});\r\nconst emit = defineEmits([\"scroll\"]);\r\nconst { rootRef, scroll } = useScroll(props, emit);\r\n\r\n// 暴露出去给父组件用\r\ndefineExpose({\r\n  scroll,\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=548a1071&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=072eef12&lang=scss&scoped=true\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=51ebbf63&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=363957e5&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=15dfaa69&lang=scss&scoped=true\""],"sourceRoot":""}