{"version":3,"sources":["webpack:///./src/views/TopList.vue?f55d","webpack:///./src/service/top-list.js","webpack:///./src/views/TopList.vue","webpack:///./src/views/TopList.vue?7aff"],"names":["getTopList","get","loading","ref","topList","topListDetail","router","useRouter","selectItem","item","value","picUrl","coverImgUrl","id","name","storage","setLocal","push","path","onMounted","result","list","splice","__exports__"],"mappings":"2IAAA,W,uICEO,SAASA,IACd,OAAOC,eAAI,Y,uMC+Bb,IAAMC,EAAUC,kBAAI,GACdC,EAAUD,iBAAI,IACdE,EAAgBF,iBAAI,IACpBG,EAASC,iBAEf,SAASC,EAAWC,GAClBJ,EAAcK,MAAQ,CACpBC,OAAQF,EAAKG,YACbC,GAAIJ,EAAKI,GACTC,KAAML,EAAKK,MAIbC,OAAQC,SAAS,cAAeX,EAAcK,OAG9CJ,EAAOW,KAAK,CACVC,KAAM,QAAF,OAAUT,EAAKI,M,OAIvBM,uBAAS,wCAAC,oHACWnB,IADX,OACJoB,EADI,OAERhB,EAAQM,MAAQU,EAAOC,KAAKC,OAAO,EAAG,IACtCpB,EAAQQ,OAAQ,EAHR,4C,u8CCjDV,MAAMa,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD","file":"js/chunk-202690da.87d10bbf.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TopList.vue?vue&type=style&index=0&id=54bba54a&lang=scss&scoped=true\"","import { get } from './base'\r\n\r\nexport function getTopList() {\r\n  return get('/toplist')\r\n}\r\n","<template>\r\n  <div class=\"top-list\" v-loading=\"loading\">\r\n    <Scroll class=\"top-list-content\">\r\n      <ul>\r\n        <li\r\n          class=\"item\"\r\n          v-for=\"item in topList\"\r\n          :key=\"item.id\"\r\n          @click=\"selectItem(item)\"\r\n        >\r\n          <div class=\"icon\">\r\n            <img width=\"100\" height=\"100\" v-img-lazy=\"item.coverImgUrl\" />\r\n          </div>\r\n          <div class=\"txt\">\r\n            <p class=\"top-name\">{{ item.name }}</p>\r\n            <p class=\"top-des\">{{ item.description }}</p>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </Scroll>\r\n    <router-view v-slot=\"{ Component }\">\r\n      <transition name=\"slide\" appear>\r\n        <component :is=\"Component\" :detailObj=\"topListDetail\" />\r\n      </transition>\r\n    </router-view>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { getTopList } from \"@/service/top-list\";\r\nimport Scroll from \"@/components/base/scroll\";\r\nimport storage from \"@/assets/js/storage-api\";\r\nimport { onMounted, ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nconst loading = ref(true);\r\nconst topList = ref([]);\r\nconst topListDetail = ref({});\r\nconst router = useRouter();\r\n\r\nfunction selectItem(item) {\r\n  topListDetail.value = {\r\n    picUrl: item.coverImgUrl,\r\n    id: item.id,\r\n    name: item.name,\r\n  };\r\n\r\n  // __topList__ 存储一下\r\n  storage.setLocal(\"__topList__\", topListDetail.value);\r\n\r\n  // 路由跳转 排行榜 详情\r\n  router.push({\r\n    path: `/top/${item.id}`,\r\n  });\r\n}\r\n\r\nonMounted(async () => {\r\n  let result = await getTopList();\r\n  topList.value = result.list.splice(0, 10);\r\n  loading.value = false;\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.top-list {\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 88px;\r\n  bottom: 0;\r\n  .top-list-content {\r\n    height: 100%;\r\n    overflow: hidden;\r\n    .item {\r\n      display: flex;\r\n      margin: 0 20px;\r\n      padding-top: 20px;\r\n      height: 100px;\r\n      &:last-child {\r\n        padding-bottom: 20px;\r\n      }\r\n      .icon {\r\n        flex: 0 0 100px;\r\n        width: 100px;\r\n        height: 100px;\r\n      }\r\n      .txt {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        padding: 0 20px;\r\n        height: 100px;\r\n        overflow: hidden;\r\n        background: $color-highlight-background;\r\n        color: $color-text-l;\r\n\r\n        .top-des {\r\n          @include no-wrap();\r\n          margin-top: 20px;\r\n          font-size: $font-size-medium;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./TopList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TopList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TopList.vue?vue&type=style&index=0&id=54bba54a&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\朱雀\\\\Desktop\\\\vue 2-7\\\\31 实战14\\\\vue3_music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-54bba54a\"]])\n\nexport default __exports__"],"sourceRoot":""}